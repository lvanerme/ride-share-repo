{"remainingRequest":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/babel-loader/lib/index.js!/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/vuetify/lib/components/VDataIterator/VDataIterator.js","dependencies":[{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/vuetify/lib/components/VDataIterator/VDataIterator.js","mtime":1652222692585},{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/babel.config.js","mtime":1651672550000},{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/cache-loader/dist/cjs.js","mtime":1651672807000},{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/babel-loader/lib/index.js","mtime":1652222692632}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL0NTL3VzZXJzL2x2YW5lcm1lLy5saW51eC9jb3MyNDMvcmlkZS1zaGFyZS1yZXBvL2FwaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL0NTL3VzZXJzL2x2YW5lcm1lLy5saW51eC9jb3MyNDMvcmlkZS1zaGFyZS1yZXBvL2FwaS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLyBDb21wb25lbnRzCmltcG9ydCB7IFZEYXRhIH0gZnJvbSAnLi4vVkRhdGEnOwppbXBvcnQgVkRhdGFGb290ZXIgZnJvbSAnLi9WRGF0YUZvb3Rlcic7IC8vIE1peGlucwoKaW1wb3J0IE1vYmlsZSBmcm9tICcuLi8uLi9taXhpbnMvbW9iaWxlJzsKaW1wb3J0IFRoZW1lYWJsZSBmcm9tICcuLi8uLi9taXhpbnMvdGhlbWVhYmxlJzsgLy8gSGVscGVycwoKaW1wb3J0IG1peGlucyBmcm9tICcuLi8uLi91dGlsL21peGlucyc7CmltcG9ydCB7IGRlZXBFcXVhbCwgZ2V0T2JqZWN0VmFsdWVCeVBhdGgsIGdldFByZWZpeGVkU2NvcGVkU2xvdHMsIGdldFNsb3QsIGNhbWVsaXplT2JqZWN0S2V5cywga2V5Q29kZXMgfSBmcm9tICcuLi8uLi91dGlsL2hlbHBlcnMnOwppbXBvcnQgeyBicmVha2luZywgcmVtb3ZlZCB9IGZyb20gJy4uLy4uL3V0aWwvY29uc29sZSc7Ci8qIEB2dWUvY29tcG9uZW50ICovCgpleHBvcnQgZGVmYXVsdCBtaXhpbnMoTW9iaWxlLCBUaGVtZWFibGUpLmV4dGVuZCh7CiAgbmFtZTogJ3YtZGF0YS1pdGVyYXRvcicsCiAgcHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgVkRhdGEub3B0aW9ucy5wcm9wcyksIHt9LCB7CiAgICBpdGVtS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2lkJwogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBzaW5nbGVTZWxlY3Q6IEJvb2xlYW4sCiAgICBleHBhbmRlZDogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgbW9iaWxlQnJlYWtwb2ludDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBNb2JpbGUub3B0aW9ucy5wcm9wcy5tb2JpbGVCcmVha3BvaW50KSwge30sIHsKICAgICAgZGVmYXVsdDogNjAwCiAgICB9KSwKICAgIHNpbmdsZUV4cGFuZDogQm9vbGVhbiwKICAgIGxvYWRpbmc6IFtCb29sZWFuLCBTdHJpbmddLAogICAgbm9SZXN1bHRzVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICckdnVldGlmeS5kYXRhSXRlcmF0b3Iubm9SZXN1bHRzVGV4dCcKICAgIH0sCiAgICBub0RhdGFUZXh0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJyR2dWV0aWZ5Lm5vRGF0YVRleHQnCiAgICB9LAogICAgbG9hZGluZ1RleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJHZ1ZXRpZnkuZGF0YUl0ZXJhdG9yLmxvYWRpbmdUZXh0JwogICAgfSwKICAgIGhpZGVEZWZhdWx0Rm9vdGVyOiBCb29sZWFuLAogICAgZm9vdGVyUHJvcHM6IE9iamVjdCwKICAgIHNlbGVjdGFibGVLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnaXNTZWxlY3RhYmxlJwogICAgfQogIH0pLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3Rpb246IHt9LAogICAgICBleHBhbnNpb246IHt9LAogICAgICBpbnRlcm5hbEN1cnJlbnRJdGVtczogW10sCiAgICAgIHNoaWZ0S2V5RG93bjogZmFsc2UsCiAgICAgIGxhc3RFbnRyeTogLTEKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZXZlcnlJdGVtOiBmdW5jdGlvbiBldmVyeUl0ZW0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gISF0aGlzLnNlbGVjdGFibGVJdGVtcy5sZW5ndGggJiYgdGhpcy5zZWxlY3RhYmxlSXRlbXMuZXZlcnkoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gX3RoaXMuaXNTZWxlY3RlZChpKTsKICAgICAgfSk7CiAgICB9LAogICAgc29tZUl0ZW1zOiBmdW5jdGlvbiBzb21lSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0YWJsZUl0ZW1zLnNvbWUoZnVuY3Rpb24gKGkpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmlzU2VsZWN0ZWQoaSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhbml0aXplZEZvb3RlclByb3BzOiBmdW5jdGlvbiBzYW5pdGl6ZWRGb290ZXJQcm9wcygpIHsKICAgICAgcmV0dXJuIGNhbWVsaXplT2JqZWN0S2V5cyh0aGlzLmZvb3RlclByb3BzKTsKICAgIH0sCiAgICBzZWxlY3RhYmxlSXRlbXM6IGZ1bmN0aW9uIHNlbGVjdGFibGVJdGVtcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEN1cnJlbnRJdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmlzU2VsZWN0YWJsZShpdGVtKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWx1ZSkgewogICAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHZhbHVlLnJlZHVjZShmdW5jdGlvbiAoc2VsZWN0aW9uLCBpdGVtKSB7CiAgICAgICAgICBzZWxlY3Rpb25bZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgX3RoaXM0Lml0ZW1LZXkpXSA9IGl0ZW07CiAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uOwogICAgICAgIH0sIHt9KTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgc2VsZWN0aW9uOiBmdW5jdGlvbiBzZWxlY3Rpb24odmFsdWUsIG9sZCkgewogICAgICBpZiAoZGVlcEVxdWFsKE9iamVjdC5rZXlzKHZhbHVlKSwgT2JqZWN0LmtleXMob2xkKSkpIHJldHVybjsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBPYmplY3QudmFsdWVzKHZhbHVlKSk7CiAgICB9LAogICAgZXhwYW5kZWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWx1ZSkgewogICAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgICB0aGlzLmV4cGFuc2lvbiA9IHZhbHVlLnJlZHVjZShmdW5jdGlvbiAoZXhwYW5zaW9uLCBpdGVtKSB7CiAgICAgICAgICBleHBhbnNpb25bZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgX3RoaXM1Lml0ZW1LZXkpXSA9IHRydWU7CiAgICAgICAgICByZXR1cm4gZXhwYW5zaW9uOwogICAgICAgIH0sIHt9KTsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgZXhwYW5zaW9uOiBmdW5jdGlvbiBleHBhbnNpb24odmFsdWUsIG9sZCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmIChkZWVwRXF1YWwodmFsdWUsIG9sZCkpIHJldHVybjsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSkuZmlsdGVyKGZ1bmN0aW9uIChrKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlW2tdOwogICAgICB9KTsKICAgICAgdmFyIGV4cGFuZGVkID0gIWtleXMubGVuZ3RoID8gW10gOiB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiBrZXlzLmluY2x1ZGVzKFN0cmluZyhnZXRPYmplY3RWYWx1ZUJ5UGF0aChpLCBfdGhpczYuaXRlbUtleSkpKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpleHBhbmRlZCcsIGV4cGFuZGVkKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICB2YXIgYnJlYWtpbmdQcm9wcyA9IFtbJ2Rpc2FibGUtaW5pdGlhbC1zb3J0JywgJ3NvcnQtYnknXSwgWydmaWx0ZXInLCAnY3VzdG9tLWZpbHRlciddLCBbJ3BhZ2luYXRpb24nLCAnb3B0aW9ucyddLCBbJ3RvdGFsLWl0ZW1zJywgJ3NlcnZlci1pdGVtcy1sZW5ndGgnXSwgWydoaWRlLWFjdGlvbnMnLCAnaGlkZS1kZWZhdWx0LWZvb3RlciddLCBbJ3Jvd3MtcGVyLXBhZ2UtaXRlbXMnLCAnZm9vdGVyLXByb3BzLml0ZW1zLXBlci1wYWdlLW9wdGlvbnMnXSwgWydyb3dzLXBlci1wYWdlLXRleHQnLCAnZm9vdGVyLXByb3BzLml0ZW1zLXBlci1wYWdlLXRleHQnXSwgWydwcmV2LWljb24nLCAnZm9vdGVyLXByb3BzLnByZXYtaWNvbiddLCBbJ25leHQtaWNvbicsICdmb290ZXItcHJvcHMubmV4dC1pY29uJ11dOwogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCiAgICBicmVha2luZ1Byb3BzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksCiAgICAgICAgICBvcmlnaW5hbCA9IF9yZWYyWzBdLAogICAgICAgICAgcmVwbGFjZW1lbnQgPSBfcmVmMlsxXTsKCiAgICAgIGlmIChfdGhpczcuJGF0dHJzLmhhc093blByb3BlcnR5KG9yaWdpbmFsKSkgYnJlYWtpbmcob3JpZ2luYWwsIHJlcGxhY2VtZW50LCBfdGhpczcpOwogICAgfSk7CiAgICB2YXIgcmVtb3ZlZFByb3BzID0gWydleHBhbmQnLCAnY29udGVudC1jbGFzcycsICdjb250ZW50LXByb3BzJywgJ2NvbnRlbnQtdGFnJ107CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwoKICAgIHJlbW92ZWRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7CiAgICAgIGlmIChfdGhpczcuJGF0dHJzLmhhc093blByb3BlcnR5KHByb3ApKSByZW1vdmVkKHByb3ApOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bik7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXApOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd24pOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleVVwKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHsKICAgICAgaWYgKGUua2V5Q29kZSAhPT0ga2V5Q29kZXMuc2hpZnQpIHJldHVybjsKICAgICAgdGhpcy5zaGlmdEtleURvd24gPSB0cnVlOwogICAgfSwKICAgIG9uS2V5VXA6IGZ1bmN0aW9uIG9uS2V5VXAoZSkgewogICAgICBpZiAoZS5rZXlDb2RlICE9PSBrZXlDb2Rlcy5zaGlmdCkgcmV0dXJuOwogICAgICB0aGlzLnNoaWZ0S2V5RG93biA9IGZhbHNlOwogICAgfSwKICAgIHRvZ2dsZVNlbGVjdEFsbDogZnVuY3Rpb24gdG9nZ2xlU2VsZWN0QWxsKHZhbHVlKSB7CiAgICAgIHZhciBzZWxlY3Rpb24gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGlvbik7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2VsZWN0YWJsZUl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnNlbGVjdGFibGVJdGVtc1tpXTsKICAgICAgICBpZiAoIXRoaXMuaXNTZWxlY3RhYmxlKGl0ZW0pKSBjb250aW51ZTsKICAgICAgICB2YXIga2V5ID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtS2V5KTsKICAgICAgICBpZiAodmFsdWUpIHNlbGVjdGlvbltrZXldID0gaXRlbTtlbHNlIGRlbGV0ZSBzZWxlY3Rpb25ba2V5XTsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247CiAgICAgIHRoaXMuJGVtaXQoJ3RvZ2dsZS1zZWxlY3QtYWxsJywgewogICAgICAgIGl0ZW1zOiB0aGlzLmludGVybmFsQ3VycmVudEl0ZW1zLAogICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICB9KTsKICAgIH0sCiAgICBpc1NlbGVjdGFibGU6IGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShpdGVtKSB7CiAgICAgIHJldHVybiBnZXRPYmplY3RWYWx1ZUJ5UGF0aChpdGVtLCB0aGlzLnNlbGVjdGFibGVLZXkpICE9PSBmYWxzZTsKICAgIH0sCiAgICBpc1NlbGVjdGVkOiBmdW5jdGlvbiBpc1NlbGVjdGVkKGl0ZW0pIHsKICAgICAgcmV0dXJuICEhdGhpcy5zZWxlY3Rpb25bZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtS2V5KV0gfHwgZmFsc2U7CiAgICB9LAogICAgc2VsZWN0OiBmdW5jdGlvbiBzZWxlY3QoaXRlbSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgdmFyIGVtaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7CiAgICAgIGlmICghdGhpcy5pc1NlbGVjdGFibGUoaXRlbSkpIHJldHVybjsKICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuc2luZ2xlU2VsZWN0ID8ge30gOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNlbGVjdGlvbik7CiAgICAgIHZhciBrZXkgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChpdGVtLCB0aGlzLml0ZW1LZXkpOwogICAgICBpZiAodmFsdWUpIHNlbGVjdGlvbltrZXldID0gaXRlbTtlbHNlIGRlbGV0ZSBzZWxlY3Rpb25ba2V5XTsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5zZWxlY3RhYmxlSXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIGdldE9iamVjdFZhbHVlQnlQYXRoKHgsIF90aGlzOC5pdGVtS2V5KSA9PT0ga2V5OwogICAgICB9KTsKICAgICAgaWYgKHRoaXMubGFzdEVudHJ5ID09PSAtMSkgdGhpcy5sYXN0RW50cnkgPSBpbmRleDtlbHNlIGlmICh0aGlzLnNoaWZ0S2V5RG93biAmJiAhdGhpcy5zaW5nbGVTZWxlY3QgJiYgZW1pdCkgewogICAgICAgIHZhciBsYXN0RW50cnlLZXkgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aCh0aGlzLnNlbGVjdGFibGVJdGVtc1t0aGlzLmxhc3RFbnRyeV0sIHRoaXMuaXRlbUtleSk7CiAgICAgICAgdmFyIGxhc3RFbnRyeUtleVNlbGVjdGVkID0gT2JqZWN0LmtleXModGhpcy5zZWxlY3Rpb24pLmluY2x1ZGVzKFN0cmluZyhsYXN0RW50cnlLZXkpKTsKICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0KGxhc3RFbnRyeUtleVNlbGVjdGVkLCBlbWl0LCBzZWxlY3Rpb24sIGluZGV4KTsKICAgICAgfQogICAgICB0aGlzLmxhc3RFbnRyeSA9IGluZGV4OwoKICAgICAgaWYgKHRoaXMuc2luZ2xlU2VsZWN0ICYmIGVtaXQpIHsKICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuc2VsZWN0aW9uKTsKICAgICAgICB2YXIgb2xkID0ga2V5cy5sZW5ndGggJiYgZ2V0T2JqZWN0VmFsdWVCeVBhdGgodGhpcy5zZWxlY3Rpb25ba2V5c1swXV0sIHRoaXMuaXRlbUtleSk7CiAgICAgICAgb2xkICYmIG9sZCAhPT0ga2V5ICYmIHRoaXMuJGVtaXQoJ2l0ZW0tc2VsZWN0ZWQnLCB7CiAgICAgICAgICBpdGVtOiB0aGlzLnNlbGVjdGlvbltvbGRdLAogICAgICAgICAgdmFsdWU6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uOwogICAgICBlbWl0ICYmIHRoaXMuJGVtaXQoJ2l0ZW0tc2VsZWN0ZWQnLCB7CiAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgfSk7CiAgICB9LAogICAgbXVsdGlwbGVTZWxlY3Q6IGZ1bmN0aW9uIG11bHRpcGxlU2VsZWN0KCkgewogICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7CiAgICAgIHZhciBlbWl0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgICB2YXIgc2VsZWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogICAgICB2YXIgc3RhcnQgPSBpbmRleCA8IHRoaXMubGFzdEVudHJ5ID8gaW5kZXggOiB0aGlzLmxhc3RFbnRyeTsKICAgICAgdmFyIGVuZCA9IGluZGV4IDwgdGhpcy5sYXN0RW50cnkgPyB0aGlzLmxhc3RFbnRyeSA6IGluZGV4OwoKICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7CiAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gdGhpcy5zZWxlY3RhYmxlSXRlbXNbaV07CiAgICAgICAgdmFyIGtleSA9IGdldE9iamVjdFZhbHVlQnlQYXRoKGN1cnJlbnRJdGVtLCB0aGlzLml0ZW1LZXkpOwogICAgICAgIGlmICh2YWx1ZSkgc2VsZWN0aW9uW2tleV0gPSBjdXJyZW50SXRlbTtlbHNlIGRlbGV0ZSBzZWxlY3Rpb25ba2V5XTsKICAgICAgICBlbWl0ICYmIHRoaXMuJGVtaXQoJ2l0ZW0tc2VsZWN0ZWQnLCB7CiAgICAgICAgICBjdXJyZW50SXRlbTogY3VycmVudEl0ZW0sCiAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGlzRXhwYW5kZWQ6IGZ1bmN0aW9uIGlzRXhwYW5kZWQoaXRlbSkgewogICAgICByZXR1cm4gdGhpcy5leHBhbnNpb25bZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtS2V5KV0gfHwgZmFsc2U7CiAgICB9LAogICAgZXhwYW5kOiBmdW5jdGlvbiBleHBhbmQoaXRlbSkgewogICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHZhciBleHBhbnNpb24gPSB0aGlzLnNpbmdsZUV4cGFuZCA/IHt9IDogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5leHBhbnNpb24pOwogICAgICB2YXIga2V5ID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoaXRlbSwgdGhpcy5pdGVtS2V5KTsKICAgICAgaWYgKHZhbHVlKSBleHBhbnNpb25ba2V5XSA9IHRydWU7ZWxzZSBkZWxldGUgZXhwYW5zaW9uW2tleV07CiAgICAgIHRoaXMuZXhwYW5zaW9uID0gZXhwYW5zaW9uOwogICAgICB0aGlzLiRlbWl0KCdpdGVtLWV4cGFuZGVkJywgewogICAgICAgIGl0ZW06IGl0ZW0sCiAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZUl0ZW1Qcm9wczogZnVuY3Rpb24gY3JlYXRlSXRlbVByb3BzKGl0ZW0sIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIHsKICAgICAgICBpdGVtOiBpdGVtLAogICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdCh2KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM5LnNlbGVjdChpdGVtLCB2KTsKICAgICAgICB9LAogICAgICAgIGlzU2VsZWN0ZWQ6IHRoaXMuaXNTZWxlY3RlZChpdGVtKSwKICAgICAgICBleHBhbmQ6IGZ1bmN0aW9uIGV4cGFuZCh2KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM5LmV4cGFuZChpdGVtLCB2KTsKICAgICAgICB9LAogICAgICAgIGlzRXhwYW5kZWQ6IHRoaXMuaXNFeHBhbmRlZChpdGVtKSwKICAgICAgICBpc01vYmlsZTogdGhpcy5pc01vYmlsZQogICAgICB9OwogICAgfSwKICAgIGdlbkVtcHR5V3JhcHBlcjogZnVuY3Rpb24gZ2VuRW1wdHlXcmFwcGVyKGNvbnRlbnQpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIGNvbnRlbnQpOwogICAgfSwKICAgIGdlbkVtcHR5OiBmdW5jdGlvbiBnZW5FbXB0eShvcmlnaW5hbEl0ZW1zTGVuZ3RoLCBmaWx0ZXJlZEl0ZW1zTGVuZ3RoKSB7CiAgICAgIGlmIChvcmlnaW5hbEl0ZW1zTGVuZ3RoID09PSAwICYmIHRoaXMubG9hZGluZykgewogICAgICAgIHZhciBsb2FkaW5nID0gdGhpcy4kc2xvdHMubG9hZGluZyB8fCB0aGlzLiR2dWV0aWZ5LmxhbmcudCh0aGlzLmxvYWRpbmdUZXh0KTsKICAgICAgICByZXR1cm4gdGhpcy5nZW5FbXB0eVdyYXBwZXIobG9hZGluZyk7CiAgICAgIH0gZWxzZSBpZiAob3JpZ2luYWxJdGVtc0xlbmd0aCA9PT0gMCkgewogICAgICAgIHZhciBub0RhdGEgPSB0aGlzLiRzbG90c1snbm8tZGF0YSddIHx8IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMubm9EYXRhVGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuRW1wdHlXcmFwcGVyKG5vRGF0YSk7CiAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRJdGVtc0xlbmd0aCA9PT0gMCkgewogICAgICAgIHZhciBub1Jlc3VsdHMgPSB0aGlzLiRzbG90c1snbm8tcmVzdWx0cyddIHx8IHRoaXMuJHZ1ZXRpZnkubGFuZy50KHRoaXMubm9SZXN1bHRzVGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuRW1wdHlXcmFwcGVyKG5vUmVzdWx0cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGdlbkl0ZW1zOiBmdW5jdGlvbiBnZW5JdGVtcyhwcm9wcykgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICB2YXIgZW1wdHkgPSB0aGlzLmdlbkVtcHR5KHByb3BzLm9yaWdpbmFsSXRlbXNMZW5ndGgsIHByb3BzLnBhZ2luYXRpb24uaXRlbXNMZW5ndGgpOwogICAgICBpZiAoZW1wdHkpIHJldHVybiBbZW1wdHldOwoKICAgICAgaWYgKHRoaXMuJHNjb3BlZFNsb3RzLmRlZmF1bHQpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc2NvcGVkU2xvdHMuZGVmYXVsdChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwge30sIHsKICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRoaXMuaXNTZWxlY3RlZCwKICAgICAgICAgIHNlbGVjdDogdGhpcy5zZWxlY3QsCiAgICAgICAgICBpc0V4cGFuZGVkOiB0aGlzLmlzRXhwYW5kZWQsCiAgICAgICAgICBpc01vYmlsZTogdGhpcy5pc01vYmlsZSwKICAgICAgICAgIGV4cGFuZDogdGhpcy5leHBhbmQKICAgICAgICB9KSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90cy5pdGVtKSB7CiAgICAgICAgcmV0dXJuIHByb3BzLml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczEwLiRzY29wZWRTbG90cy5pdGVtKF90aGlzMTAuY3JlYXRlSXRlbVByb3BzKGl0ZW0sIGluZGV4KSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICBnZW5Gb290ZXI6IGZ1bmN0aW9uIGdlbkZvb3Rlcihwcm9wcykgewogICAgICBpZiAodGhpcy5oaWRlRGVmYXVsdEZvb3RlcikgcmV0dXJuIG51bGw7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHByb3BzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuc2FuaXRpemVkRm9vdGVyUHJvcHMpLCB7fSwgewogICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucywKICAgICAgICAgIHBhZ2luYXRpb246IHByb3BzLnBhZ2luYXRpb24KICAgICAgICB9KSwKICAgICAgICBvbjogewogICAgICAgICAgJ3VwZGF0ZTpvcHRpb25zJzogZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyh2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gcHJvcHMudXBkYXRlT3B0aW9ucyh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgc2NvcGVkU2xvdHMgPSBnZXRQcmVmaXhlZFNjb3BlZFNsb3RzKCdmb290ZXIuJywgdGhpcy4kc2NvcGVkU2xvdHMpOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudChWRGF0YUZvb3RlciwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgc2NvcGVkU2xvdHM6IHNjb3BlZFNsb3RzCiAgICAgIH0sIGRhdGEpKTsKICAgIH0sCiAgICBnZW5EZWZhdWx0U2NvcGVkU2xvdDogZnVuY3Rpb24gZ2VuRGVmYXVsdFNjb3BlZFNsb3QocHJvcHMpIHsKICAgICAgdmFyIG91dGVyUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwge30sIHsKICAgICAgICBzb21lSXRlbXM6IHRoaXMuc29tZUl0ZW1zLAogICAgICAgIGV2ZXJ5SXRlbTogdGhpcy5ldmVyeUl0ZW0sCiAgICAgICAgdG9nZ2xlU2VsZWN0QWxsOiB0aGlzLnRvZ2dsZVNlbGVjdEFsbAogICAgICB9KTsKCiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWRhdGEtaXRlcmF0b3InCiAgICAgIH0sIFtnZXRTbG90KHRoaXMsICdoZWFkZXInLCBvdXRlclByb3BzLCB0cnVlKSwgdGhpcy5nZW5JdGVtcyhwcm9wcyksIHRoaXMuZ2VuRm9vdGVyKHByb3BzKSwgZ2V0U2xvdCh0aGlzLCAnZm9vdGVyJywgb3V0ZXJQcm9wcywgdHJ1ZSldKTsKICAgIH0KICB9LAogIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KFZEYXRhLCB7CiAgICAgIHByb3BzOiB0aGlzLiRwcm9wcywKICAgICAgb246IHsKICAgICAgICAndXBkYXRlOm9wdGlvbnMnOiBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKHYsIG9sZCkgewogICAgICAgICAgcmV0dXJuICFkZWVwRXF1YWwodiwgb2xkKSAmJiBfdGhpczExLiRlbWl0KCd1cGRhdGU6b3B0aW9ucycsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3VwZGF0ZTpwYWdlJzogZnVuY3Rpb24gdXBkYXRlUGFnZSh2KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMxMS4kZW1pdCgndXBkYXRlOnBhZ2UnLCB2KTsKICAgICAgICB9LAogICAgICAgICd1cGRhdGU6aXRlbXMtcGVyLXBhZ2UnOiBmdW5jdGlvbiB1cGRhdGVJdGVtc1BlclBhZ2UodikgewogICAgICAgICAgcmV0dXJuIF90aGlzMTEuJGVtaXQoJ3VwZGF0ZTppdGVtcy1wZXItcGFnZScsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3VwZGF0ZTpzb3J0LWJ5JzogZnVuY3Rpb24gdXBkYXRlU29ydEJ5KHYpIHsKICAgICAgICAgIHJldHVybiBfdGhpczExLiRlbWl0KCd1cGRhdGU6c29ydC1ieScsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3VwZGF0ZTpzb3J0LWRlc2MnOiBmdW5jdGlvbiB1cGRhdGVTb3J0RGVzYyh2KSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMxMS4kZW1pdCgndXBkYXRlOnNvcnQtZGVzYycsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3VwZGF0ZTpncm91cC1ieSc6IGZ1bmN0aW9uIHVwZGF0ZUdyb3VwQnkodikgewogICAgICAgICAgcmV0dXJuIF90aGlzMTEuJGVtaXQoJ3VwZGF0ZTpncm91cC1ieScsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3VwZGF0ZTpncm91cC1kZXNjJzogZnVuY3Rpb24gdXBkYXRlR3JvdXBEZXNjKHYpIHsKICAgICAgICAgIHJldHVybiBfdGhpczExLiRlbWl0KCd1cGRhdGU6Z3JvdXAtZGVzYycsIHYpOwogICAgICAgIH0sCiAgICAgICAgcGFnaW5hdGlvbjogZnVuY3Rpb24gcGFnaW5hdGlvbih2LCBvbGQpIHsKICAgICAgICAgIHJldHVybiAhZGVlcEVxdWFsKHYsIG9sZCkgJiYgX3RoaXMxMS4kZW1pdCgncGFnaW5hdGlvbicsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ2N1cnJlbnQtaXRlbXMnOiBmdW5jdGlvbiBjdXJyZW50SXRlbXModikgewogICAgICAgICAgX3RoaXMxMS5pbnRlcm5hbEN1cnJlbnRJdGVtcyA9IHY7CgogICAgICAgICAgX3RoaXMxMS4kZW1pdCgnY3VycmVudC1pdGVtcycsIHYpOwogICAgICAgIH0sCiAgICAgICAgJ3BhZ2UtY291bnQnOiBmdW5jdGlvbiBwYWdlQ291bnQodikgewogICAgICAgICAgcmV0dXJuIF90aGlzMTEuJGVtaXQoJ3BhZ2UtY291bnQnLCB2KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgICAgZGVmYXVsdDogdGhpcy5nZW5EZWZhdWx0U2NvcGVkU2xvdAogICAgICB9CiAgICB9KTsKICB9Cn0pOw=="},{"version":3,"mappings":"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","names":["VData","VDataFooter","Mobile","Themeable","mixins","deepEqual","getObjectValueByPath","getPrefixedScopedSlots","getSlot","camelizeObjectKeys","keyCodes","breaking","removed","extend","name","props","options","itemKey","type","String","default","value","Array","singleSelect","Boolean","expanded","mobileBreakpoint","singleExpand","loading","noResultsText","noDataText","loadingText","hideDefaultFooter","footerProps","Object","selectableKey","data","selection","expansion","internalCurrentItems","shiftKeyDown","lastEntry","computed","everyItem","selectableItems","length","every","isSelected","i","someItems","some","sanitizedFooterProps","filter","isSelectable","item","watch","handler","reduce","immediate","old","keys","$emit","values","k","items","includes","created","breakingProps","forEach","original","replacement","$attrs","hasOwnProperty","removedProps","prop","mounted","window","addEventListener","onKeyDown","onKeyUp","beforeDestroy","removeEventListener","methods","e","keyCode","shift","toggleSelectAll","assign","key","select","emit","index","findIndex","x","lastEntryKey","lastEntryKeySelected","multipleSelect","start","end","currentItem","isExpanded","expand","createItemProps","v","isMobile","genEmptyWrapper","content","$createElement","genEmpty","originalItemsLength","filteredItemsLength","$slots","$vuetify","lang","t","noData","noResults","genItems","empty","pagination","itemsLength","$scopedSlots","map","genFooter","on","updateOptions","scopedSlots","genDefaultScopedSlot","outerProps","staticClass","render","$props"],"sourceRoot":"","sources":["../../../src/components/VDataIterator/VDataIterator.ts"],"sourcesContent":["// Components\nimport { VData } from '../VData'\nimport VDataFooter from './VDataFooter'\n\n// Mixins\nimport Mobile from '../../mixins/mobile'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { deepEqual, getObjectValueByPath, getPrefixedScopedSlots, getSlot, camelizeObjectKeys, keyCodes } from '../../util/helpers'\nimport { breaking, removed } from '../../util/console'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { DataItemProps, DataScopeProps } from 'vuetify/types'\n\n/* @vue/component */\nexport default mixins(\n  Mobile,\n  Themeable\n).extend({\n  name: 'v-data-iterator',\n\n  props: {\n    ...VData.options.props, // TODO: filter out props not used\n    itemKey: {\n      type: String,\n      default: 'id',\n    },\n    value: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    singleSelect: Boolean,\n    expanded: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    mobileBreakpoint: {\n      ...Mobile.options.props.mobileBreakpoint,\n      default: 600,\n    },\n    singleExpand: Boolean,\n    loading: [Boolean, String],\n    noResultsText: {\n      type: String,\n      default: '$vuetify.dataIterator.noResultsText',\n    },\n    noDataText: {\n      type: String,\n      default: '$vuetify.noDataText',\n    },\n    loadingText: {\n      type: String,\n      default: '$vuetify.dataIterator.loadingText',\n    },\n    hideDefaultFooter: Boolean,\n    footerProps: Object,\n    selectableKey: {\n      type: String,\n      default: 'isSelectable',\n    },\n  },\n\n  data: () => ({\n    selection: {} as Record<string, any>,\n    expansion: {} as Record<string, boolean>,\n    internalCurrentItems: [] as any[],\n    shiftKeyDown: false,\n    lastEntry: -1,\n  }),\n\n  computed: {\n    everyItem (): boolean {\n      return !!this.selectableItems.length && this.selectableItems.every((i: any) => this.isSelected(i))\n    },\n    someItems (): boolean {\n      return this.selectableItems.some((i: any) => this.isSelected(i))\n    },\n    sanitizedFooterProps (): Record<string, any> {\n      return camelizeObjectKeys(this.footerProps)\n    },\n    selectableItems (): any[] {\n      return this.internalCurrentItems.filter(item => this.isSelectable(item))\n    },\n  },\n\n  watch: {\n    value: {\n      handler (value: any[]) {\n        this.selection = value.reduce((selection, item) => {\n          selection[getObjectValueByPath(item, this.itemKey)] = item\n          return selection\n        }, {})\n      },\n      immediate: true,\n    },\n    selection (value: Record<string, boolean>, old: Record<string, boolean>) {\n      if (deepEqual(Object.keys(value), Object.keys(old))) return\n\n      this.$emit('input', Object.values(value))\n    },\n    expanded: {\n      handler (value: any[]) {\n        this.expansion = value.reduce((expansion, item) => {\n          expansion[getObjectValueByPath(item, this.itemKey)] = true\n          return expansion\n        }, {})\n      },\n      immediate: true,\n    },\n    expansion (value: Record<string, boolean>, old: Record<string, boolean>) {\n      if (deepEqual(value, old)) return\n      const keys = Object.keys(value).filter(k => value[k])\n      const expanded = !keys.length ? [] : this.items.filter(i => keys.includes(String(getObjectValueByPath(i, this.itemKey))))\n      this.$emit('update:expanded', expanded)\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['disable-initial-sort', 'sort-by'],\n      ['filter', 'custom-filter'],\n      ['pagination', 'options'],\n      ['total-items', 'server-items-length'],\n      ['hide-actions', 'hide-default-footer'],\n      ['rows-per-page-items', 'footer-props.items-per-page-options'],\n      ['rows-per-page-text', 'footer-props.items-per-page-text'],\n      ['prev-icon', 'footer-props.prev-icon'],\n      ['next-icon', 'footer-props.next-icon'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n\n    const removedProps = [\n      'expand',\n      'content-class',\n      'content-props',\n      'content-tag',\n    ]\n\n    /* istanbul ignore next */\n    removedProps.forEach(prop => {\n      if (this.$attrs.hasOwnProperty(prop)) removed(prop)\n    })\n  },\n\n  mounted () {\n    window.addEventListener('keydown', this.onKeyDown)\n    window.addEventListener('keyup', this.onKeyUp)\n  },\n  beforeDestroy () {\n    window.removeEventListener('keydown', this.onKeyDown)\n    window.removeEventListener('keyup', this.onKeyUp)\n  },\n\n  methods: {\n    onKeyDown (e: KeyboardEvent): void {\n      if (e.keyCode !== keyCodes.shift) return\n      this.shiftKeyDown = true\n    },\n    onKeyUp (e: KeyboardEvent): void {\n      if (e.keyCode !== keyCodes.shift) return\n      this.shiftKeyDown = false\n    },\n    toggleSelectAll (value: boolean): void {\n      const selection = Object.assign({}, this.selection)\n\n      for (let i = 0; i < this.selectableItems.length; i++) {\n        const item = this.selectableItems[i]\n\n        if (!this.isSelectable(item)) continue\n\n        const key = getObjectValueByPath(item, this.itemKey)\n        if (value) selection[key] = item\n        else delete selection[key]\n      }\n\n      this.selection = selection\n      this.$emit('toggle-select-all', { items: this.internalCurrentItems, value })\n    },\n    isSelectable (item: any): boolean {\n      return getObjectValueByPath(item, this.selectableKey) !== false\n    },\n    isSelected (item: any): boolean {\n      return !!this.selection[getObjectValueByPath(item, this.itemKey)] || false\n    },\n    select (item: any, value = true, emit = true): void {\n      if (!this.isSelectable(item)) return\n\n      const selection = this.singleSelect ? {} : Object.assign({}, this.selection)\n      const key = getObjectValueByPath(item, this.itemKey)\n\n      if (value) selection[key] = item\n      else delete selection[key]\n\n      const index = this.selectableItems.findIndex(x => getObjectValueByPath(x, this.itemKey) === key)\n      if (this.lastEntry === -1) this.lastEntry = index\n      else if (this.shiftKeyDown && !this.singleSelect && emit) {\n        const lastEntryKey = getObjectValueByPath(this.selectableItems[this.lastEntry], this.itemKey)\n        const lastEntryKeySelected = Object.keys(this.selection).includes(String(lastEntryKey))\n        this.multipleSelect(lastEntryKeySelected, emit, selection, index)\n      }\n      this.lastEntry = index\n\n      if (this.singleSelect && emit) {\n        const keys = Object.keys(this.selection)\n        const old = keys.length && getObjectValueByPath(this.selection[keys[0]], this.itemKey)\n        old && old !== key && this.$emit('item-selected', { item: this.selection[old], value: false })\n      }\n      this.selection = selection\n      emit && this.$emit('item-selected', { item, value })\n    },\n    multipleSelect (value = true, emit = true, selection: any, index: number): void {\n      const start = index < this.lastEntry ? index : this.lastEntry\n      const end = index < this.lastEntry ? this.lastEntry : index\n      for (let i = start; i <= end; i++) {\n        const currentItem = this.selectableItems[i]\n        const key = getObjectValueByPath(currentItem, this.itemKey)\n        if (value) selection[key] = currentItem\n        else delete selection[key]\n        emit && this.$emit('item-selected', { currentItem, value })\n      }\n    },\n    isExpanded (item: any): boolean {\n      return this.expansion[getObjectValueByPath(item, this.itemKey)] || false\n    },\n    expand (item: any, value = true): void {\n      const expansion = this.singleExpand ? {} : Object.assign({}, this.expansion)\n      const key = getObjectValueByPath(item, this.itemKey)\n\n      if (value) expansion[key] = true\n      else delete expansion[key]\n\n      this.expansion = expansion\n      this.$emit('item-expanded', { item, value })\n    },\n    createItemProps (item: any, index: number): DataItemProps {\n      return {\n        item,\n        index,\n        select: (v: boolean) => this.select(item, v),\n        isSelected: this.isSelected(item),\n        expand: (v: boolean) => this.expand(item, v),\n        isExpanded: this.isExpanded(item),\n        isMobile: this.isMobile,\n      }\n    },\n    genEmptyWrapper (content: VNodeChildren) {\n      return this.$createElement('div', content)\n    },\n    genEmpty (originalItemsLength: number, filteredItemsLength: number) {\n      if (originalItemsLength === 0 && this.loading) {\n        const loading = this.$slots.loading || this.$vuetify.lang.t(this.loadingText)\n        return this.genEmptyWrapper(loading)\n      } else if (originalItemsLength === 0) {\n        const noData = this.$slots['no-data'] || this.$vuetify.lang.t(this.noDataText)\n        return this.genEmptyWrapper(noData)\n      } else if (filteredItemsLength === 0) {\n        const noResults = this.$slots['no-results'] || this.$vuetify.lang.t(this.noResultsText)\n        return this.genEmptyWrapper(noResults)\n      }\n\n      return null\n    },\n    genItems (props: DataScopeProps) {\n      const empty = this.genEmpty(props.originalItemsLength, props.pagination.itemsLength)\n      if (empty) return [empty]\n\n      if (this.$scopedSlots.default) {\n        return this.$scopedSlots.default({\n          ...props,\n          isSelected: this.isSelected,\n          select: this.select,\n          isExpanded: this.isExpanded,\n          isMobile: this.isMobile,\n          expand: this.expand,\n        })\n      }\n\n      if (this.$scopedSlots.item) {\n        return props.items.map((item: any, index) => this.$scopedSlots.item!(this.createItemProps(\n          item,\n          index\n        )))\n      }\n\n      return []\n    },\n    genFooter (props: DataScopeProps) {\n      if (this.hideDefaultFooter) return null\n\n      const data = {\n        props: {\n          ...this.sanitizedFooterProps,\n          options: props.options,\n          pagination: props.pagination,\n        },\n        on: {\n          'update:options': (value: any) => props.updateOptions(value),\n        },\n      }\n\n      const scopedSlots = getPrefixedScopedSlots('footer.', this.$scopedSlots)\n\n      return this.$createElement(VDataFooter, {\n        scopedSlots,\n        ...data,\n      })\n    },\n    genDefaultScopedSlot (props: any) {\n      const outerProps = {\n        ...props,\n        someItems: this.someItems,\n        everyItem: this.everyItem,\n        toggleSelectAll: this.toggleSelectAll,\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-data-iterator',\n      }, [\n        getSlot(this, 'header', outerProps, true),\n        this.genItems(props),\n        this.genFooter(props),\n        getSlot(this, 'footer', outerProps, true),\n      ])\n    },\n  },\n\n  render (): VNode {\n    return this.$createElement(VData, {\n      props: this.$props,\n      on: {\n        'update:options': (v: any, old: any) => !deepEqual(v, old) && this.$emit('update:options', v),\n        'update:page': (v: any) => this.$emit('update:page', v),\n        'update:items-per-page': (v: any) => this.$emit('update:items-per-page', v),\n        'update:sort-by': (v: any) => this.$emit('update:sort-by', v),\n        'update:sort-desc': (v: any) => this.$emit('update:sort-desc', v),\n        'update:group-by': (v: any) => this.$emit('update:group-by', v),\n        'update:group-desc': (v: any) => this.$emit('update:group-desc', v),\n        pagination: (v: any, old: any) => !deepEqual(v, old) && this.$emit('pagination', v),\n        'current-items': (v: any[]) => {\n          this.internalCurrentItems = v\n          this.$emit('current-items', v)\n        },\n        'page-count': (v: number) => this.$emit('page-count', v),\n      },\n      scopedSlots: {\n        default: this.genDefaultScopedSlot,\n      },\n    })\n  },\n})\n"]}]}