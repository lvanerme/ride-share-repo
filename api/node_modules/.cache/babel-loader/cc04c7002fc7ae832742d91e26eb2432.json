{"remainingRequest":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/babel-loader/lib/index.js!/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/vuetify/lib/components/VOtpInput/VOtpInput.js","dependencies":[{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/vuetify/lib/components/VOtpInput/VOtpInput.js","mtime":1652222692000},{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/babel.config.js","mtime":1651672550000},{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/cache-loader/dist/cjs.js","mtime":1651672807000},{"path":"/home/CS/users/lvanerme/.linux/cos243/ride-share-repo/api/node_modules/babel-loader/lib/index.js","mtime":1652222692000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9DUy91c2Vycy9sdmFuZXJtZS8ubGludXgvY29zMjQzL3JpZGUtc2hhcmUtcmVwby9hcGkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvQ1MvdXNlcnMvbHZhbmVybWUvLmxpbnV4L2NvczI0My9yaWRlLXNoYXJlLXJlcG8vYXBpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwovLyBTdHlsZXMKaW1wb3J0ICIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WVGV4dEZpZWxkL1ZUZXh0RmllbGQuc2FzcyI7CmltcG9ydCAiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVk90cElucHV0L1ZPdHBJbnB1dC5zYXNzIjsgLy8gRXh0ZW5zaW9ucwoKaW1wb3J0IFZJbnB1dCBmcm9tICcuLi9WSW5wdXQnOwppbXBvcnQgVlRleHRGaWVsZCBmcm9tICcuLi9WVGV4dEZpZWxkL1ZUZXh0RmllbGQnOyAvLyBEaXJlY3RpdmVzCgppbXBvcnQgcmlwcGxlIGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvcmlwcGxlJzsgLy8gVXRpbGl0aWVzCgppbXBvcnQgeyBjb252ZXJ0VG9Vbml0LCBrZXlDb2RlcyB9IGZyb20gJy4uLy4uL3V0aWwvaGVscGVycyc7CmltcG9ydCB7IGJyZWFraW5nIH0gZnJvbSAnLi4vLi4vdXRpbC9jb25zb2xlJzsgLy8gVHlwZXMKCmltcG9ydCBtaXhpbnMgZnJvbSAnLi4vLi4vdXRpbC9taXhpbnMnOwp2YXIgYmFzZU1peGlucyA9IG1peGlucyhWSW5wdXQpOwovKiBAdnVlL2NvbXBvbmVudCAqLwoKZXhwb3J0IGRlZmF1bHQgYmFzZU1peGlucy5leHRlbmQoKS5leHRlbmQoewogIG5hbWU6ICd2LW90cC1pbnB1dCcsCiAgZGlyZWN0aXZlczogewogICAgcmlwcGxlOiByaXBwbGUKICB9LAogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgcHJvcHM6IHsKICAgIGxlbmd0aDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICBkZWZhdWx0OiA2CiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICd0ZXh0JwogICAgfSwKICAgIHBsYWluOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFkSW5wdXQ6IGZhbHNlLAogICAgICBpbml0aWFsVmFsdWU6IG51bGwsCiAgICAgIGlzQm9vdGVkOiBmYWxzZSwKICAgICAgb3RwOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBvdXRsaW5lZDogZnVuY3Rpb24gb3V0bGluZWQoKSB7CiAgICAgIHJldHVybiAhdGhpcy5wbGFpbjsKICAgIH0sCiAgICBjbGFzc2VzOiBmdW5jdGlvbiBjbGFzc2VzKCkgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIFZJbnB1dC5vcHRpb25zLmNvbXB1dGVkLmNsYXNzZXMuY2FsbCh0aGlzKSksIFZUZXh0RmllbGQub3B0aW9ucy5jb21wdXRlZC5jbGFzc2VzLmNhbGwodGhpcykpLCB7fSwgewogICAgICAgICd2LW90cC1pbnB1dC0tcGxhaW4nOiB0aGlzLnBsYWluCiAgICAgIH0pOwogICAgfSwKICAgIGlzRGlydHk6IGZ1bmN0aW9uIGlzRGlydHkoKSB7CiAgICAgIHJldHVybiBWSW5wdXQub3B0aW9ucy5jb21wdXRlZC5pc0RpcnR5LmNhbGwodGhpcykgfHwgdGhpcy5iYWRJbnB1dDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpc0ZvY3VzZWQ6ICd1cGRhdGVWYWx1ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIHRoaXMubGF6eVZhbHVlID0gdmFsOwogICAgICB0aGlzLm90cCA9ICh2YWwgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbC5zcGxpdCgnJykpIHx8IFtdOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyRpbnRlcm5hbFZhbHVlOwogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KCgogICAgaWYgKHRoaXMuJGF0dHJzLmhhc093blByb3BlcnR5KCdicm93c2VyLWF1dG9jb21wbGV0ZScpKSB7CiAgICAgIGJyZWFraW5nKCdicm93c2VyLWF1dG9jb21wbGV0ZScsICdhdXRvY29tcGxldGUnLCB0aGlzKTsKICAgIH0KCiAgICB0aGlzLm90cCA9ICgoX3RoaXMkaW50ZXJuYWxWYWx1ZSA9IHRoaXMuaW50ZXJuYWxWYWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGludGVybmFsVmFsdWUuc3BsaXQoJycpKSB8fCBbXTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5pc0Jvb3RlZCA9IHRydWU7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiBAcHVibGljICovCiAgICBmb2N1czogZnVuY3Rpb24gZm9jdXMoZSwgb3RwSWR4KSB7CiAgICAgIHRoaXMub25Gb2N1cyhlLCBvdHBJZHggfHwgMCk7CiAgICB9LAogICAgZ2VuSW5wdXRTbG90OiBmdW5jdGlvbiBnZW5JbnB1dFNsb3Qob3RwSWR4KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMuYmFja2dyb3VuZENvbG9yLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0X19zbG90JywKICAgICAgICBzdHlsZTogewogICAgICAgICAgaGVpZ2h0OiBjb252ZXJ0VG9Vbml0KHRoaXMuaGVpZ2h0KQogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljaygpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKG90cElkeCk7CiAgICAgICAgICB9LAogICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbiBtb3VzZWRvd24oZSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uTW91c2VEb3duKGUsIG90cElkeCk7CiAgICAgICAgICB9LAogICAgICAgICAgbW91c2V1cDogZnVuY3Rpb24gbW91c2V1cChlKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIub25Nb3VzZVVwKGUsIG90cElkeCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSwgW3RoaXMuZ2VuRGVmYXVsdFNsb3Qob3RwSWR4KV0pOwogICAgfSwKICAgIGdlbkNvbnRyb2w6IGZ1bmN0aW9uIGdlbkNvbnRyb2wob3RwSWR4KSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0X19jb250cm9sJwogICAgICB9LCBbdGhpcy5nZW5JbnB1dFNsb3Qob3RwSWR4KV0pOwogICAgfSwKICAgIGdlbkRlZmF1bHRTbG90OiBmdW5jdGlvbiBnZW5EZWZhdWx0U2xvdChvdHBJZHgpIHsKICAgICAgcmV0dXJuIFt0aGlzLmdlbkZpZWxkc2V0KCksIHRoaXMuZ2VuVGV4dEZpZWxkU2xvdChvdHBJZHgpXTsKICAgIH0sCiAgICBnZW5Db250ZW50OiBmdW5jdGlvbiBnZW5Db250ZW50KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBBcnJheS5mcm9tKHsKICAgICAgICBsZW5ndGg6ICt0aGlzLmxlbmd0aAogICAgICB9LCBmdW5jdGlvbiAoXywgaSkgewogICAgICAgIHJldHVybiBfdGhpczMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIF90aGlzMy5zZXRUZXh0Q29sb3IoX3RoaXMzLnZhbGlkYXRpb25TdGF0ZSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWlucHV0JywKICAgICAgICAgIGNsYXNzOiBfdGhpczMuY2xhc3NlcwogICAgICAgIH0pLCBbX3RoaXMzLmdlbkNvbnRyb2woaSldKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2VuRmllbGRzZXQ6IGZ1bmN0aW9uIGdlbkZpZWxkc2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZmllbGRzZXQnLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICdhcmlhLWhpZGRlbic6IHRydWUKICAgICAgICB9CiAgICAgIH0sIFt0aGlzLmdlbkxlZ2VuZCgpXSk7CiAgICB9LAogICAgZ2VuTGVnZW5kOiBmdW5jdGlvbiBnZW5MZWdlbmQoKSB7CiAgICAgIHZhciBzcGFuID0gdGhpcy4kY3JlYXRlRWxlbWVudCgnc3BhbicsIHsKICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgaW5uZXJIVE1MOiAnJiM4MjAzOycKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnbGVnZW5kJywgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICB3aWR0aDogJzBweCcKICAgICAgICB9CiAgICAgIH0sIFtzcGFuXSk7CiAgICB9LAogICAgZ2VuSW5wdXQ6IGZ1bmN0aW9uIGdlbklucHV0KG90cElkeCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBsaXN0ZW5lcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmxpc3RlbmVycyQpOwogICAgICBkZWxldGUgbGlzdGVuZXJzLmNoYW5nZTsgLy8gQ2hhbmdlIHNob3VsZCBub3QgYmUgYm91bmQgZXh0ZXJuYWxseQoKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgewogICAgICAgIHN0eWxlOiB7fSwKICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgdmFsdWU6IHRoaXMub3RwW290cElkeF0sCiAgICAgICAgICBtaW46IHRoaXMudHlwZSA9PT0gJ251bWJlcicgPyAwIDogbnVsbAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5hdHRycyQpLCB7fSwgewogICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuaXNEaXNhYmxlZCwKICAgICAgICAgIHJlYWRvbmx5OiB0aGlzLmlzUmVhZG9ubHksCiAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsCiAgICAgICAgICBpZDogIiIuY29uY2F0KHRoaXMuY29tcHV0ZWRJZCwgIi0tIikuY29uY2F0KG90cElkeCksCiAgICAgICAgICBjbGFzczogIm90cC1maWVsZC1ib3gtLSIuY29uY2F0KG90cElkeCksCiAgICAgICAgICBtYXhsZW5ndGg6IDEKICAgICAgICB9KSwKICAgICAgICBvbjogT2JqZWN0LmFzc2lnbihsaXN0ZW5lcnMsIHsKICAgICAgICAgIGJsdXI6IHRoaXMub25CbHVyLAogICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uIGlucHV0KGUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5vbklucHV0KGUsIG90cElkeCk7CiAgICAgICAgICB9LAogICAgICAgICAgZm9jdXM6IGZ1bmN0aW9uIGZvY3VzKGUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5vbkZvY3VzKGUsIG90cElkeCk7CiAgICAgICAgICB9LAogICAgICAgICAgcGFzdGU6IGZ1bmN0aW9uIHBhc3RlKGUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5vblBhc3RlKGUsIG90cElkeCk7CiAgICAgICAgICB9LAogICAgICAgICAga2V5ZG93bjogdGhpcy5vbktleURvd24sCiAgICAgICAgICBrZXl1cDogZnVuY3Rpb24ga2V5dXAoZSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXM0Lm9uS2V5VXAoZSwgb3RwSWR4KTsKICAgICAgICAgIH0KICAgICAgICB9KSwKICAgICAgICByZWY6ICdpbnB1dCcsCiAgICAgICAgcmVmSW5Gb3I6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgZ2VuVGV4dEZpZWxkU2xvdDogZnVuY3Rpb24gZ2VuVGV4dEZpZWxkU2xvdChvdHBJZHgpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3YtdGV4dC1maWVsZF9fc2xvdCcKICAgICAgfSwgW3RoaXMuZ2VuSW5wdXQob3RwSWR4KV0pOwogICAgfSwKICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmlzRm9jdXNlZCA9IGZhbHNlOwogICAgICBlICYmIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM1LiRlbWl0KCdibHVyJywgZSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2sob3RwSWR4KSB7CiAgICAgIGlmICh0aGlzLmlzRm9jdXNlZCB8fCB0aGlzLmlzRGlzYWJsZWQgfHwgIXRoaXMuJHJlZnMuaW5wdXRbb3RwSWR4XSkgcmV0dXJuOwogICAgICB0aGlzLm9uRm9jdXModW5kZWZpbmVkLCBvdHBJZHgpOwogICAgfSwKICAgIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoZSwgb3RwSWR4KSB7CiAgICAgIGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHJldmVudERlZmF1bHQoKTsKICAgICAgZSA9PSBudWxsID8gdm9pZCAwIDogZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy4kcmVmcy5pbnB1dDsKICAgICAgdmFyIHJlZiA9IHRoaXMuJHJlZnMuaW5wdXQgJiYgZWxlbWVudHNbb3RwSWR4IHx8IDBdOwogICAgICBpZiAoIXJlZikgcmV0dXJuOwoKICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHJlZikgewogICAgICAgIHJlZi5mb2N1cygpOwogICAgICAgIHJldHVybiByZWYuc2VsZWN0KCk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5pc0ZvY3VzZWQpIHsKICAgICAgICB0aGlzLmlzRm9jdXNlZCA9IHRydWU7CiAgICAgICAgcmVmLnNlbGVjdCgpOwogICAgICAgIGUgJiYgdGhpcy4kZW1pdCgnZm9jdXMnLCBlKTsKICAgICAgfQogICAgfSwKICAgIG9uSW5wdXQ6IGZ1bmN0aW9uIG9uSW5wdXQoZSwgb3RwSWR4KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0OwogICAgICB2YXIgdmFsdWUgPSB0YXJnZXQudmFsdWU7CiAgICAgIHRoaXMuYXBwbHlWYWx1ZShvdHBJZHgsIHRhcmdldC52YWx1ZSwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi5pbnRlcm5hbFZhbHVlID0gX3RoaXM2Lm90cC5qb2luKCcnKTsKICAgICAgfSk7CiAgICAgIHRoaXMuYmFkSW5wdXQgPSB0YXJnZXQudmFsaWRpdHkgJiYgdGFyZ2V0LnZhbGlkaXR5LmJhZElucHV0OwogICAgICB2YXIgbmV4dEluZGV4ID0gb3RwSWR4ICsgMTsKCiAgICAgIGlmICh2YWx1ZSkgewogICAgICAgIGlmIChuZXh0SW5kZXggPCArdGhpcy5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY2hhbmdlRm9jdXMobmV4dEluZGV4KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jbGVhckZvY3VzKG90cElkeCk7CiAgICAgICAgICB0aGlzLm9uQ29tcGxldGVkKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xlYXJGb2N1czogZnVuY3Rpb24gY2xlYXJGb2N1cyhpbmRleCkgewogICAgICB2YXIgaW5wdXQgPSB0aGlzLiRyZWZzLmlucHV0W2luZGV4XTsKICAgICAgaW5wdXQuYmx1cigpOwogICAgfSwKICAgIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHsKICAgICAgaWYgKGUua2V5Q29kZSA9PT0ga2V5Q29kZXMuZW50ZXIpIHsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmludGVybmFsVmFsdWUpOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7CiAgICB9LAogICAgb25Nb3VzZURvd246IGZ1bmN0aW9uIG9uTW91c2VEb3duKGUsIG90cElkeCkgewogICAgICAvLyBQcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgYmx1cnJlZAogICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJHJlZnMuaW5wdXRbb3RwSWR4XSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9CgogICAgICBWSW5wdXQub3B0aW9ucy5tZXRob2RzLm9uTW91c2VEb3duLmNhbGwodGhpcywgZSk7CiAgICB9LAogICAgb25Nb3VzZVVwOiBmdW5jdGlvbiBvbk1vdXNlVXAoZSwgb3RwSWR4KSB7CiAgICAgIGlmICh0aGlzLmhhc01vdXNlRG93bikgdGhpcy5mb2N1cyhlLCBvdHBJZHgpOwogICAgICBWSW5wdXQub3B0aW9ucy5tZXRob2RzLm9uTW91c2VVcC5jYWxsKHRoaXMsIGUpOwogICAgfSwKICAgIG9uUGFzdGU6IGZ1bmN0aW9uIG9uUGFzdGUoZXZlbnQsIGluZGV4KSB7CiAgICAgIHZhciBfZXZlbnQkY2xpcGJvYXJkRGF0YTsKCiAgICAgIHZhciBtYXhDdXJzb3IgPSArdGhpcy5sZW5ndGggLSAxOwogICAgICB2YXIgaW5wdXRWYWwgPSBldmVudCA9PSBudWxsID8gdm9pZCAwIDogKF9ldmVudCRjbGlwYm9hcmREYXRhID0gZXZlbnQuY2xpcGJvYXJkRGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9ldmVudCRjbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTsKICAgICAgdmFyIGlucHV0RGF0YUFycmF5ID0gKGlucHV0VmFsID09IG51bGwgPyB2b2lkIDAgOiBpbnB1dFZhbC5zcGxpdCgnJykpIHx8IFtdOwogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgdmFyIG5ld090cCA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm90cCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0RGF0YUFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGFwcElkeCA9IGluZGV4ICsgaTsKICAgICAgICBpZiAoYXBwSWR4ID4gbWF4Q3Vyc29yKSBicmVhazsKICAgICAgICBuZXdPdHBbYXBwSWR4XSA9IGlucHV0RGF0YUFycmF5W2ldLnRvU3RyaW5nKCk7CiAgICAgIH0KCiAgICAgIHRoaXMub3RwID0gbmV3T3RwOwogICAgICB0aGlzLmludGVybmFsVmFsdWUgPSB0aGlzLm90cC5qb2luKCcnKTsKICAgICAgdmFyIHRhcmdldEZvY3VzID0gTWF0aC5taW4oaW5kZXggKyBpbnB1dERhdGFBcnJheS5sZW5ndGgsIG1heEN1cnNvcik7CiAgICAgIHRoaXMuY2hhbmdlRm9jdXModGFyZ2V0Rm9jdXMpOwoKICAgICAgaWYgKG5ld090cC5sZW5ndGggPT09ICt0aGlzLmxlbmd0aCkgewogICAgICAgIHRoaXMub25Db21wbGV0ZWQoKTsKICAgICAgICB0aGlzLmNsZWFyRm9jdXModGFyZ2V0Rm9jdXMpOwogICAgICB9CiAgICB9LAogICAgYXBwbHlWYWx1ZTogZnVuY3Rpb24gYXBwbHlWYWx1ZShpbmRleCwgaW5wdXRWYWwsIG5leHQpIHsKICAgICAgdmFyIG5ld090cCA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLm90cCk7CgogICAgICBuZXdPdHBbaW5kZXhdID0gaW5wdXRWYWw7CiAgICAgIHRoaXMub3RwID0gbmV3T3RwOwogICAgICBuZXh0KCk7CiAgICB9LAogICAgY2hhbmdlRm9jdXM6IGZ1bmN0aW9uIGNoYW5nZUZvY3VzKGluZGV4KSB7CiAgICAgIHRoaXMub25Gb2N1cyh1bmRlZmluZWQsIGluZGV4IHx8IDApOwogICAgfSwKICAgIHVwZGF0ZVZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZSh2YWwpIHsKICAgICAgLy8gU2V0cyB2YWxpZGF0aW9uU3RhdGUgZnJvbSB2YWxpZGF0YWJsZQogICAgICB0aGlzLmhhc0NvbG9yID0gdmFsOwoKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuaW5pdGlhbFZhbHVlID0gdGhpcy5sYXp5VmFsdWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbml0aWFsVmFsdWUgIT09IHRoaXMubGF6eVZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5sYXp5VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgb25LZXlVcDogZnVuY3Rpb24gb25LZXlVcChldmVudCwgaW5kZXgpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGV2ZW50S2V5ID0gZXZlbnQua2V5OwoKICAgICAgaWYgKFsnVGFiJywgJ1NoaWZ0JywgJ01ldGEnLCAnQ29udHJvbCcsICdBbHQnXS5pbmNsdWRlcyhldmVudEtleSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChbJ0RlbGV0ZSddLmluY2x1ZGVzKGV2ZW50S2V5KSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGV2ZW50S2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBldmVudEtleSA9PT0gJ0JhY2tzcGFjZScgJiYgIXRoaXMub3RwW2luZGV4XSkgewogICAgICAgIHJldHVybiBpbmRleCA+IDAgJiYgdGhpcy5jaGFuZ2VGb2N1cyhpbmRleCAtIDEpOwogICAgICB9CgogICAgICBpZiAoZXZlbnRLZXkgPT09ICdBcnJvd1JpZ2h0JykgewogICAgICAgIHJldHVybiBpbmRleCArIDEgPCArdGhpcy5sZW5ndGggJiYgdGhpcy5jaGFuZ2VGb2N1cyhpbmRleCArIDEpOwogICAgICB9CiAgICB9LAogICAgb25Db21wbGV0ZWQ6IGZ1bmN0aW9uIG9uQ29tcGxldGVkKCkgewogICAgICB2YXIgcnNwID0gdGhpcy5vdHAuam9pbignJyk7CgogICAgICBpZiAocnNwLmxlbmd0aCA9PT0gK3RoaXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnZmluaXNoJywgcnNwKTsKICAgICAgfQogICAgfQogIH0sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICd2LW90cC1pbnB1dCcsCiAgICAgIGNsYXNzOiB0aGlzLnRoZW1lQ2xhc3NlcwogICAgfSwgdGhpcy5nZW5Db250ZW50KCkpOwogIH0KfSk7"},{"version":3,"mappings":"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","names":["VInput","VTextField","ripple","convertToUnit","keyCodes","breaking","mixins","baseMixins","extend","name","directives","inheritAttrs","props","length","type","Number","String","default","plain","Boolean","data","badInput","initialValue","isBooted","otp","computed","outlined","classes","options","call","isDirty","watch","isFocused","value","val","lazyValue","split","created","$attrs","hasOwnProperty","internalValue","mounted","requestAnimationFrame","methods","focus","e","otpIdx","onFocus","genInputSlot","$createElement","setBackgroundColor","backgroundColor","staticClass","style","height","on","click","onClick","mousedown","onMouseDown","mouseup","onMouseUp","genDefaultSlot","genControl","genFieldset","genTextFieldSlot","genContent","Array","from","_","i","setTextColor","validationState","class","attrs","genLegend","span","domProps","innerHTML","width","genInput","listeners","Object","assign","listeners$","change","min","attrs$","disabled","isDisabled","readonly","isReadonly","id","computedId","maxlength","blur","onBlur","input","onInput","paste","onPaste","keydown","onKeyDown","keyup","onKeyUp","ref","refInFor","$nextTick","$emit","$refs","undefined","preventDefault","stopPropagation","elements","document","activeElement","select","target","applyValue","join","validity","nextIndex","changeFocus","clearFocus","onCompleted","index","keyCode","enter","hasMouseDown","event","maxCursor","inputVal","clipboardData","_event$clipboardData","getData","inputDataArray","newOtp","appIdx","toString","targetFocus","Math","next","updateValue","hasColor","eventKey","key","includes","rsp","render","h","themeClasses"],"sourceRoot":"","sources":["../../../src/components/VOtpInput/VOtpInput.ts"],"sourcesContent":["// Styles\nimport '../VTextField/VTextField.sass'\nimport './VOtpInput.sass'\n\n// Extensions\nimport VInput from '../VInput'\nimport VTextField from '../VTextField/VTextField'\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { convertToUnit, keyCodes } from '../../util/helpers'\nimport { breaking } from '../../util/console'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  VInput,\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    input: HTMLInputElement[]\n  }\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-otp-input',\n\n  directives: {\n    ripple,\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    length: {\n      type: [Number, String],\n      default: 6,\n    },\n    type: {\n      type: String,\n      default: 'text',\n    },\n    plain: Boolean,\n  },\n\n  data: () => ({\n    badInput: false,\n    initialValue: null,\n    isBooted: false,\n    otp: [] as string[],\n  }),\n\n  computed: {\n    outlined (): Boolean {\n      return !this.plain\n    },\n    classes (): object {\n      return {\n        ...VInput.options.computed.classes.call(this),\n        ...VTextField.options.computed.classes.call(this),\n        'v-otp-input--plain': this.plain,\n      }\n    },\n    isDirty (): boolean {\n      return VInput.options.computed.isDirty.call(this) || this.badInput\n    },\n  },\n\n  watch: {\n    isFocused: 'updateValue',\n    value (val) {\n      this.lazyValue = val\n      this.otp = val?.split('') || []\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('browser-autocomplete')) {\n      breaking('browser-autocomplete', 'autocomplete', this)\n    }\n\n    this.otp = this.internalValue?.split('') || []\n  },\n\n  mounted () {\n    requestAnimationFrame(() => (this.isBooted = true))\n  },\n\n  methods: {\n    /** @public */\n    focus (e: Event, otpIdx: number) {\n      this.onFocus(e, otpIdx || 0)\n    },\n    genInputSlot (otpIdx: number) {\n      return this.$createElement('div', this.setBackgroundColor(this.backgroundColor, {\n        staticClass: 'v-input__slot',\n        style: { height: convertToUnit(this.height) },\n        on: {\n          click: () => this.onClick(otpIdx),\n          mousedown: (e: Event) => this.onMouseDown(e, otpIdx),\n          mouseup: (e: Event) => this.onMouseUp(e, otpIdx),\n        },\n      }), [this.genDefaultSlot(otpIdx)])\n    },\n    genControl (otpIdx: number) {\n      return this.$createElement('div', {\n        staticClass: 'v-input__control',\n      }, [\n        this.genInputSlot(otpIdx),\n      ])\n    },\n    genDefaultSlot (otpIdx: number) {\n      return [\n        this.genFieldset(),\n        this.genTextFieldSlot(otpIdx),\n      ]\n    },\n    genContent () {\n      return Array.from({ length: +this.length }, (_, i) => {\n        return this.$createElement('div', this.setTextColor(this.validationState, {\n          staticClass: 'v-input',\n          class: this.classes,\n        }), [this.genControl(i)])\n      })\n    },\n    genFieldset () {\n      return this.$createElement('fieldset', {\n        attrs: {\n          'aria-hidden': true,\n        },\n      }, [this.genLegend()])\n    },\n    genLegend () {\n      const span = this.$createElement('span', {\n        domProps: { innerHTML: '&#8203;' },\n      })\n\n      return this.$createElement('legend', {\n        style: {\n          width: '0px',\n        },\n      }, [span])\n    },\n    genInput (otpIdx: number) {\n      const listeners = Object.assign({}, this.listeners$)\n      delete listeners.change // Change should not be bound externally\n\n      return this.$createElement('input', {\n        style: {},\n        domProps: {\n          value: this.otp[otpIdx],\n          min: this.type === 'number' ? 0 : null,\n        },\n        attrs: {\n          ...this.attrs$,\n          disabled: this.isDisabled,\n          readonly: this.isReadonly,\n          type: this.type,\n          id: `${this.computedId}--${otpIdx}`,\n          class: `otp-field-box--${otpIdx}`,\n          maxlength: 1,\n        },\n        on: Object.assign(listeners, {\n          blur: this.onBlur,\n          input: (e: Event) => this.onInput(e, otpIdx),\n          focus: (e: Event) => this.onFocus(e, otpIdx),\n          paste: (e: ClipboardEvent) => this.onPaste(e, otpIdx),\n          keydown: this.onKeyDown,\n          keyup: (e: KeyboardEvent) => this.onKeyUp(e, otpIdx),\n        }),\n        ref: 'input',\n        refInFor: true,\n      })\n    },\n    genTextFieldSlot (otpIdx: number): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-text-field__slot',\n      }, [\n        this.genInput(otpIdx),\n      ])\n    },\n    onBlur (e?: Event) {\n      this.isFocused = false\n      e && this.$nextTick(() => this.$emit('blur', e))\n    },\n    onClick (otpIdx: number) {\n      if (this.isFocused || this.isDisabled || !this.$refs.input[otpIdx]) return\n\n      this.onFocus(undefined, otpIdx)\n    },\n    onFocus (e?: Event, otpIdx?: number) {\n      e?.preventDefault()\n      e?.stopPropagation()\n      const elements = this.$refs.input as HTMLInputElement[]\n      const ref = this.$refs.input && elements[otpIdx || 0]\n      if (!ref) return\n\n      if (document.activeElement !== ref) {\n        ref.focus()\n        return ref.select()\n      }\n\n      if (!this.isFocused) {\n        this.isFocused = true\n        ref.select()\n        e && this.$emit('focus', e)\n      }\n    },\n    onInput (e: Event, otpIdx: number) {\n      const target = e.target as HTMLInputElement\n      const value = target.value\n      this.applyValue(otpIdx, target.value, () => {\n        this.internalValue = this.otp.join('')\n      })\n      this.badInput = target.validity && target.validity.badInput\n\n      const nextIndex = otpIdx + 1\n      if (value) {\n        if (nextIndex < +this.length) {\n          this.changeFocus(nextIndex)\n        } else {\n          this.clearFocus(otpIdx)\n          this.onCompleted()\n        }\n      }\n    },\n    clearFocus (index: number) {\n      const input = this.$refs.input[index] as HTMLInputElement\n      input.blur()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.enter) {\n        this.$emit('change', this.internalValue)\n      }\n\n      this.$emit('keydown', e)\n    },\n    onMouseDown (e: Event, otpIdx: number) {\n      // Prevent input from being blurred\n      if (e.target !== this.$refs.input[otpIdx]) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      VInput.options.methods.onMouseDown.call(this, e)\n    },\n    onMouseUp (e: Event, otpIdx: number) {\n      if (this.hasMouseDown) this.focus(e, otpIdx)\n\n      VInput.options.methods.onMouseUp.call(this, e)\n    },\n    onPaste (event: ClipboardEvent, index: number) {\n      const maxCursor = +this.length - 1\n      const inputVal = event?.clipboardData?.getData('Text')\n      const inputDataArray = inputVal?.split('') || []\n      event.preventDefault()\n      const newOtp: string[] = [...this.otp]\n      for (let i = 0; i < inputDataArray.length; i++) {\n        const appIdx = index + i\n        if (appIdx > maxCursor) break\n        newOtp[appIdx] = inputDataArray[i].toString()\n      }\n      this.otp = newOtp\n      this.internalValue = this.otp.join('')\n      const targetFocus = Math.min(index + inputDataArray.length, maxCursor)\n      this.changeFocus(targetFocus)\n\n      if (newOtp.length === +this.length) { this.onCompleted(); this.clearFocus(targetFocus) }\n    },\n    applyValue (index: number, inputVal: string, next: Function) {\n      const newOtp: string[] = [...this.otp]\n      newOtp[index] = inputVal\n      this.otp = newOtp\n      next()\n    },\n    changeFocus (index: number) {\n      this.onFocus(undefined, index || 0)\n    },\n    updateValue (val: boolean) {\n      // Sets validationState from validatable\n      this.hasColor = val\n\n      if (val) {\n        this.initialValue = this.lazyValue\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue)\n      }\n    },\n    onKeyUp (event: KeyboardEvent, index: number) {\n      event.preventDefault()\n      const eventKey = event.key\n      if (['Tab', 'Shift', 'Meta', 'Control', 'Alt'].includes(eventKey)) {\n        return\n      }\n      if (['Delete'].includes(eventKey)) {\n        return\n      }\n      if (eventKey === 'ArrowLeft' || (eventKey === 'Backspace' && !this.otp[index])) {\n        return index > 0 && this.changeFocus(index - 1)\n      }\n      if (eventKey === 'ArrowRight') {\n        return index + 1 < +this.length && this.changeFocus(index + 1)\n      }\n    },\n    onCompleted () {\n      const rsp = this.otp.join('')\n      if (rsp.length === +this.length) {\n        this.$emit('finish', rsp)\n      }\n    },\n  },\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-otp-input',\n      class: this.themeClasses,\n    }, this.genContent())\n  },\n})\n"]}]}